!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist",n(n.s=0)}([function(t,e,n){"use strict";function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e);var o=function(){function t(e,n,a,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DATA={},this.myLocation={},this._wrapperImage=document.querySelectorAll(e),this._nameHero=document.querySelectorAll(n),this._back=document.querySelectorAll(a),this._container=document.querySelectorAll(r),this._front=document.querySelectorAll(i)}var e,n,r;return e=t,(n=[{key:"addCards",value:function(t){for(var e=0;e<this._container.length;e++)this._container[e].classList.remove("loader-card"),this.addFront(this._wrapperImage[e],this._nameHero[e],t[e],this._front[e]),this.addBack(this._back[e],t[e])}},{key:"addFront",value:function(t,e,n,a){if(n){var r=document.createElement("img");r.src="dbHeroes-master/"+n.photo,t.append(r),e.textContent=n.name,e.parentNode.classList.add("name-active")}else a.classList.add("none-card")}},{key:"addBack",value:function(t,e){e&&(t.append(this.createDivForBack(e)),t.parentNode.classList.add("flipper-active"))}},{key:"createDivForBack",value:function(t){var e=document.createElement("div");for(var n in t)"photo"!==n&&"movies"!==n?e.insertAdjacentHTML("beforeend","<p>".concat(n[0].toUpperCase()+n.slice(1),": ").concat(t[n],"</p>")):"movies"===n&&function(){var a=t[n].map((function(t,e,n){var a=document.createElement("a");return a.href="#",a.textContent=e!==n.length-1?t+", ":t,a.classList.add("film"),a})),r=document.createElement("p");r.textContent="Movies: ",a.forEach((function(t){return r.append(t)})),e.append(r)}();return e}},{key:"removeCards",value:function(){this._wrapperImage.forEach((function(t){return t.textContent=""})),this._nameHero.forEach((function(t){t.textContent="",t.parentNode.classList.remove("name-active")})),this._back.forEach((function(t){t.textContent="",t.parentNode.classList.remove("flipper-active")})),this._container.forEach((function(t){t.classList.add("loader-card")})),a(this._front).filter((function(t){return t.classList.contains("none-card")})).forEach((function(t){return t.classList.remove("none-card")}))}},{key:"createNewCards",value:function(t){t.length===this.DATA.data.length&&this.myLocation.removeLocation(),this.removeCards(),this.addCards(t)}},{key:"eventListener",value:function(){var t=this;this._back.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;if(n.classList.contains("film")){var a=n.textContent.replace(/,/,"");t.DATA.filterFilm(a.trim())}}))}))}},{key:"init",value:function(t,e){this.myLocation=e,this.DATA=t,this.addCards(t.data),this.eventListener()}}])&&i(e.prototype,n),r&&i(e,r),t}();function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function u(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=[],this._listFilms=[],this.myLocation={},this.cards={},this.pagination={}}var e,n,a;return e=t,(n=[{key:"filterFilm",value:function(t){var e=this._data.filter((function(e){return!!e.movies&&s(e.movies).some((function(e){return e.toLowerCase()===t.toLowerCase()}))}));return 0!==e.length&&(this.myLocation.addLocation(t),this.pagination.refresh(e),this.cards.createNewCards(e),!0)}},{key:"init",value:function(t,e,n,a){var r=this;this._data=t,this.myLocation=e,this.cards=n,this.pagination=a,t.forEach((function(t){return r._listFilms=r._listFilms.concat(t.movies)})),this._listFilms=this._listFilms.filter((function(t,e){return r._listFilms.indexOf(t)===e&&void 0!==t})),this._listFilms.sort()}},{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"listFilms",get:function(){return this._listFilms},set:function(t){this._listFilms=t}}])&&u(e.prototype,n),a&&u(e,a),t}();function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._all="All",this._movie="",this._location=document.querySelector(e),this.pagination={},this.cards={},this.DATA={}}var e,n,a;return e=t,(n=[{key:"addLocation",value:function(t){this._location.textContent="",this._location.insertAdjacentHTML("beforeend",'<a href="#" class="'.concat(this._all,'">').concat(this._all,'</a>\n            <span>/</span>\n            <a href="#" class="').concat(t,'">').concat(t,"</a>"))}},{key:"removeLocation",value:function(){this._location.textContent=""}},{key:"eventListener",value:function(){var t=this;this._location.addEventListener("click",(function(){event.preventDefault(),event.target.classList.contains(t._all)&&(console.log(1),t.pagination.refresh(t.DATA.data),t.cards.createNewCards(t.DATA.data))}))}},{key:"init",value:function(t,e,n){this.pagination=t,this.cards=e,this.DATA=n,this.eventListener()}}])&&d(e.prototype,n),a&&d(e,a),t}();function h(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cards=e,this._data=[],this._pagination=document.querySelector(".pagination"),this._pageNumbers=document.querySelectorAll(".page-number"),this._countPage=0,this._currentPage=1}var e,n,a;return e=t,(n=[{key:"pageNumbersRefresh",value:function(){for(var t=0;t<3;t++)if(!this._pageNumbers[t]){var e=this._pageNumbers[0].cloneNode(!0);e.classList.remove("page-active"),e.textContent=t+1,this._pagination.append(e)}this._pageNumbers=document.querySelectorAll(".page-number")}},{key:"togglePageActive",value:function(){"number"!=typeof this._currentPage&&this._currentPage.classList.toggle("page-active")}},{key:"startPage",value:function(){this.togglePageActive(),this._pageNumbers.forEach((function(t,e){return t.textContent=e+1})),this.removeStartPage(),this.removeLastPage(),this._currentPage=this._pageNumbers[0],this.togglePageActive(),this._countPage>3?this.addLastPage():this._countPage<3&&(this._pageNumbers[2]&&this._pageNumbers[2].remove(),this._countPage<2&&this._pageNumbers[1].remove()),this._pageNumbers=document.querySelectorAll(".page-number")}},{key:"lastPage",value:function(t){this.togglePageActive(),this.removeLastPage();var e=+t.textContent,n=this._pageNumbers.length>2?-2:-1;this._pageNumbers.forEach((function(t){return t.textContent=e+n++})),this._currentPage=this._pageNumbers[2]?this._pageNumbers[2]:this._pageNumbers[1],this.togglePageActive(),this._countPage>3&&this.addStartPage()}},{key:"switchPage",value:function(t){if("1"!==t.textContent)if(t.textContent!==this._countPage.toString()){this.togglePageActive();for(var e=+t.textContent,n=-1,a=0;a<3;a++)this._pageNumbers[a].textContent=e+n++;this._currentPage=this._pageNumbers[1],this.togglePageActive(),this.editPagination()}else this.lastPage(t);else this.startPage(t)}},{key:"addLastPage",value:function(){document.getElementById("sp2")||this._pagination.insertAdjacentHTML("beforeend",'<span id="sp2">...</span>\n                <a href="#" id="last-page" class="trigger">'.concat(this._countPage,"</a>"))}},{key:"removeLastPage",value:function(){document.getElementById("sp2")&&(document.getElementById("sp2").remove(),document.getElementById("last-page").remove())}},{key:"addStartPage",value:function(){document.getElementById("sp1")||this._pagination.insertAdjacentHTML("afterbegin",'<a href="#" id="start-page" class="trigger">1</a>\n                <span id="sp1">...</span>')}},{key:"removeStartPage",value:function(){document.getElementById("sp1")&&(document.getElementById("sp1").remove(),document.getElementById("start-page").remove())}},{key:"editPagination",value:function(){+this._pageNumbers[2].textContent===this._countPage?this.removeLastPage():this.addLastPage(),1==+this._pageNumbers[0].textContent?this.removeStartPage():this.addStartPage()}},{key:"addNewCards",value:function(t){var e=10*+this._currentPage.textContent,n=10*+this._currentPage.textContent-10,a=t.filter((function(t,a){return a>=n&&a<e}));this._cards.createNewCards(a)}},{key:"eventPagination",value:function(t){t.preventDefault(),t.target.classList.contains("page-active")||!t.target.classList.contains("page-number")&&!t.target.classList.contains("trigger")||(this.switchPage(t.target),this.addNewCards(this._data))}},{key:"startEvent",value:function(){this._pagination.addEventListener("click",this.eventPagination.bind(this),!1)}},{key:"removeEvent",value:function(){this._pagination.removeEventListener("click",this.eventPagination.bind(this),!1)}},{key:"init",value:function(t){this.data=t,this.pageNumbersRefresh(),this.startPage(),this.startEvent()}},{key:"refresh",value:function(t){this.data=t,this.pageNumbersRefresh(),this.startPage()}},{key:"data",get:function(){return this._data},set:function(t){this._data=t,this._countPage=Math.ceil(t.length/10)}}])&&h(e.prototype,n),a&&h(e,a),t}(),g=function(t,e,n){document.querySelector("img").addEventListener("click",(function(){e.refresh(t.data),n.createNewCards(t.data)}))},v=function(t){var e,n=document.querySelector(".menu"),a=document.querySelector("menu"),r=document.querySelector("menu > ul");t.listFilms.forEach((function(t){var e=document.createElement("li"),n=document.createElement("a");n.href="#",n.textContent=t,e.append(n),e.classList.add("film"),r.append(e)})),e=function(){a.classList.toggle("active-menu"),a.scrollTop=0,document.body.classList.toggle("scroll-hidden")},n.addEventListener("click",e),a.addEventListener("click",(function(){event.preventDefault();var n=event.target;n.classList.contains("close-btn")||(n=n.closest("a")),n&&e(),n.parentNode.classList.contains("film")&&t.filterFilm(n.textContent)}))},p=function(t){var e=document.getElementById("search"),n=document.querySelector(".dropdown"),a=document.getElementById("form-search"),r=function(){(n.textContent="",""!==e.value)&&t.listFilms.filter((function(t){return t.toLowerCase().startsWith(e.value.toLowerCase())})).forEach((function(t){var e=document.createElement("li");e.textContent=t,n.append(e)}))};e.addEventListener("input",r),n.addEventListener("click",(function(t){!function(t){var r=t.target;"li"===r.tagName.toLowerCase()&&(e.value=r.textContent,n.textContent=""),a.dispatchEvent(new Event("submit"))}(t)})),a.addEventListener("submit",(function(n){if(n.preventDefault(),""===e.value){var a=document.querySelector(".modal-message");return a.childNodes[1].textContent="Enter movie name",a.style.display="flex",void setTimeout((function(){return a.style.display="none"}),2e3)}if(!t.filterFilm(e.value)){var i=document.querySelector(".modal-message");i.childNodes[1].textContent="We don’t have such a movie",i.style.display="flex",setTimeout((function(){return i.style.display="none"}),2e3)}e.value="",r()}))},y=new o(".wrapper__image",".name-hero > h1",".back",".flip-container",".front"),b=new m(y),_=new l,L=new f(".my-location");fetch("./../dbHeroes-master/dbHeroes.json").then((function(t){if(200!==t.status)throw new Error(t.status);return t.json()})).then((function(t){setTimeout((function(){_.init(t,L,y,b),b.init(_.data),y.init(_,L),L.init(b,y,_),p(_),v(_),g(_,b,y)}),2e3)})).catch((function(t){console.error(t),document.querySelector(".wrapper__cards").style.opacity=0,document.querySelector("section").insertAdjacentHTML("afterbegin",'<div class="error">\n                <h1>Oops was '.concat(t,", please comeback later :(</h1></div>"))}))}]);